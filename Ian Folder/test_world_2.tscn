[gd_scene format=3 uid="uid://ct5ax4ywifcqr"]

[ext_resource type="Texture2D" uid="uid://dvf21l451imlf" path="res://Ian Folder/brush.tres" id="1_1gfa7"]
[ext_resource type="PackedScene" uid="uid://2wy3lf084bm7" path="res://LayerMasking/Level.tscn" id="4_2s0yd"]
[ext_resource type="PackedScene" uid="uid://f0giku20phl1" path="res://Objects/BobbyCollectable.tscn" id="6_mur5f"]
[ext_resource type="PackedScene" uid="uid://b2aodyxg1wr0g" path="res://Character/bobby_character.tscn" id="7_kwp58"]

[sub_resource type="GDScript" id="GDScript_xny3m"]
resource_name = "test_script"
script/source = "extends Node2D

@export var brush_texture: GradientTexture2D

@onready var red_layer_mask: LayerMask = $RedLayer/LayerMask
@onready var green_layer_mask: LayerMask = $GreenLayer/LayerMask


func _input(event: InputEvent) -> void:
	if event is InputEventMouseButton:
		if event.pressed:
			$RedLayer.layer_mask.paint_texture(brush_texture, get_global_mouse_position())
			$GreenLayer.layer_mask.erase_texture(brush_texture, get_global_mouse_position())
"

[sub_resource type="ViewportTexture" id="ViewportTexture_od2mw"]
viewport_path = NodePath("MaskViewer")

[sub_resource type="ViewportTexture" id="ViewportTexture_ndmua"]
viewport_path = NodePath("MaskViewer")

[sub_resource type="ViewportTexture" id="ViewportTexture_1gfa7"]
viewport_path = NodePath("MaskViewer")

[node name="TestWorld" type="Node2D" unique_id=1058061648]
script = SubResource("GDScript_xny3m")
brush_texture = ExtResource("1_1gfa7")

[node name="BobbyCollectable" parent="." unique_id=2115636220 instance=ExtResource("6_mur5f")]
z_index = 1
position = Vector2(299, 752)

[node name="BobbyCharacter" parent="." unique_id=1423288883 instance=ExtResource("7_kwp58")]
z_index = 1
position = Vector2(991, 1087)

[node name="Level" parent="." unique_id=1122606211 instance=ExtResource("4_2s0yd")]

[node name="Clipper" parent="Level/RedLayer" parent_id_path=PackedInt32Array(1122606211, 1461014223) index="0" unique_id=476506377]
texture = SubResource("ViewportTexture_od2mw")

[node name="Clipper" parent="Level/GreenLayer" parent_id_path=PackedInt32Array(1122606211, 1253315937) index="0" unique_id=476506377]
texture = SubResource("ViewportTexture_ndmua")

[node name="Clipper" parent="Level/BlueLayer" parent_id_path=PackedInt32Array(1122606211, 1566262046) index="0" unique_id=476506377]
texture = SubResource("ViewportTexture_1gfa7")

[editable path="Level"]
[editable path="Level/RedLayer"]
[editable path="Level/GreenLayer"]
[editable path="Level/BlueLayer"]
